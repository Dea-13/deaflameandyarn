<div class="slideout-content">
  <!-- Modal to add new user starts-->
  <div id="modals-slide-in">
    <div class="modal-dialog-screen material-dialog-center modal-content pt-0" [ngClass]="{ 'modal-full-screen': fullScr == true, 'modal-normal-screen': fullScr == false }">
      <div class="modal-body flex-grow-1">
        <div class="row">
          <div class="col-md-12 col-12">
            <div class="alert alert-primary flex" role="alert">
              <div class="alert-body">
                {{ translateSnackBar.modalBarcodeMatrix }}
              </div>
              <button type="button" class="modal-icon-header" data-dismiss="modal" aria-label="Close" (click)="fullScreen()">
                <div [ngStyle]="{'display': fullScr == true ? 'flex' : 'none' }"><span [data-feather]="'minimize-2'" [class]="'ficon'"></span></div>
                <div [ngStyle]="{'display': fullScr == true ? 'none' : 'flex' }"><span [data-feather]="'maximize-2'" [class]="'ficon'"></span></div>
              </button>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="closeModal()">
                Ã—
              </button>
            </div>
          </div>
        </div>
        <section class="example-container mat-elevation-z8">
          <table mat-table
            [dataSource]="rows | paginate: { id: 'paginationDieId', itemsPerPage: limit, currentPage: cPage, totalItems: totalResult }"
            class="example-table">
            <!-- Position Column -->
            <ng-container matColumnDef="dieId">
              <th mat-header-cell *matHeaderCellDef>
                <div class="filter-th" container="body">
                  <button [matMenuTriggerFor]="menuFilter" type="button" class="btn icon-btn btn-sm" rippleEffect>
                    <span [data-feather]="'filter'" [class]="'cursor-pointer'"></span>
                  </button>
                  <mat-menu #menuFilter="matMenu">
                    <ng-select [virtualScroll]="true" (click)="$event.stopPropagation();" [(ngModel)]="dieId" appendTo="body" class="select-table width-select"
                      [multiple]="true" [closeOnSelect]="false" (change)="pageDieChanged(1)">
                      <ng-option *ngFor="let d of dieArr" [value]="d.name">{{ d.name }}</ng-option>
                    </ng-select>
                  </mat-menu>
                </div>
                <span class="th-header">{{ translateSnackBar.dieId }}</span>
              </th>
              <td mat-cell *matCellDef="let element">{{element.dieId}}</td>
            </ng-container>

            <ng-container matColumnDef="resourceName">
              <th mat-header-cell *matHeaderCellDef>
                <div class="filter-th" container="body">
                  <button [matMenuTriggerFor]="menuFilter" type="button" class="btn icon-btn btn-sm hide-arrow"
                    rippleEffect>
                    <span [data-feather]="'filter'" [class]="'cursor-pointer'"></span>
                  </button>
                  <mat-menu #menuFilter="matMenu">
                    <ng-select [virtualScroll]="true" (click)="$event.stopPropagation()" [(ngModel)]="primaryResourceName" appendTo="body" class="select-table width-select"
                      [multiple]="true" [closeOnSelect]="false" (change)="pageDieChanged(1)">
                      <ng-option *ngFor="let p of primaryResourceNameArr" [value]="p.name">{{ p.name }}</ng-option>
                    </ng-select>
                  </mat-menu>
                </div>
                <span class="th-header">{{ translateSnackBar.currentResource }}</span>
              </th>
              <td mat-cell *matCellDef="let element">{{element.resourceName}}</td>
            </ng-container>

            <ng-container matColumnDef="channels">
              <th mat-header-cell *matHeaderCellDef>
                <div class="filter-th" container="body">
                  <button [matMenuTriggerFor]="menuFilter" type="button" class="btn icon-btn btn-sm hide-arrow"
                    rippleEffect>
                    <span [data-feather]="'filter'" [class]="'cursor-pointer'"></span>
                  </button>
                  <mat-menu #menuFilter="matMenu">
                    <ng-select [virtualScroll]="true" (click)="$event.stopPropagation()" [(ngModel)]="channels" appendTo="body" class="select-table width-select"
                      [multiple]="true" [closeOnSelect]="false" (change)="pageDieChanged(1)">
                      <ng-option *ngFor="let c of channelsArr" [value]="c.name">{{ c.name }}</ng-option>
                    </ng-select>
                  </mat-menu>
                </div>
                <span class="th-header">{{ translateSnackBar.channels }}</span>
              </th>
              <td mat-cell *matCellDef="let element">{{element.channels}}</td>
            </ng-container>

            <ng-container matColumnDef="inUse">
              <th mat-header-cell *matHeaderCellDef>
                <span class="th-header">{{ translateSnackBar.inUse }}</span>
              </th>
              <td mat-cell *matCellDef="let element"><input class="input" (click)="$event.stopPropagation()" [(ngModel)]="element.inUse" type="checkbox"></td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row (click)="clickedRows(row)" *matRowDef="let row; columns: displayedColumns;"></tr>
          </table>
        </section>

        <pagination-controls id="paginationDieId" previousLabel="&lsaquo;" nextLabel="&rsaquo;"
          (pageChange)="pageDieChanged($event)">
        </pagination-controls>
      </div>
    </div>
  </div>
  <!-- Modal to add new user Ends-->
</div>
<div *ngIf="loading" class="loader-section">
  <div class="spinner-border" role="status">
    <span class="sr-only">Loading...</span>
  </div>
</div>
