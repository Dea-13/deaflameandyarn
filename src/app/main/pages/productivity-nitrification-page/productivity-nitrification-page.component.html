<div class="content-wrapper container-xxl p-0">
  <div class="content-body">
    <section class="users-list-wrapper">
      <div class="card">
        <div class="row">
          <div class="col-md-6 col-12">
            <div class="d-flex align-items-center m-1">
              <button rippleEffect (click)="size = size + 1" class="btn size-btn text-primary p-0" [disabled]="size >= 22">A<span [data-feather]="'zoom-in'" [class]="'ficon'"></span></button>
              <span class="pt-line-3">|</span>
              <button rippleEffect (click)="size = size - 1" class="btn size-btn text-primary p-0" [disabled]="size <= 8">A<span [data-feather]="'zoom-out'" [class]="'ficon'"></span></button>
              <button rippleEffect (click)="clarAll()" class="btn size-btn m-0 mx-2 text-primary p-0">{{ translateSnackBar.clearAll }}</button>
              <label class="d-flex align-items-center">{{ translateSnackBar.show }}
                <ng-select [virtualScroll]="true" class="mx-25" [clearable]="false" [(ngModel)]="limit" (change)="pageChanged(1)">
                  <ng-option [value]="10">10</ng-option>
                  <ng-option [value]="15">15</ng-option>
                  <ng-option [value]="20">20</ng-option>
                  <ng-option [value]="25">25</ng-option>
                  <ng-option [value]="50">50</ng-option>
                  <ng-option [value]="100">100</ng-option>
                </ng-select>
                {{ translateSnackBar.result }}
              </label>
            </div>
          </div>
        </div>
        <section class="example-container mat-elevation-z8">
          <table mat-table
            [dataSource]="rows | paginate: { id: 'paginationId', itemsPerPage: limit, currentPage: cPage, totalItems: totalResult }"
            class="example-table">
            <!-- Position Column -->
            <ng-container matColumnDef="dieId">
              <th mat-header-cell *matHeaderCellDef>
                <div class="filter-th" container="body">
                  <button [matMenuTriggerFor]="menuFilter" type="button" class="btn icon-btn btn-sm hide-arrow"
                    rippleEffect>
                    <span class="badge rounded-circle badge-danger ms-1 m-0" *ngIf="dieId != ''">{{dieId.length}}</span>
                    <span [data-feather]="'filter'" [class]="'cursor-pointer'"></span>
                  </button>
                  <mat-menu #menuFilter="matMenu">
                    <ng-select [virtualScroll]="true" (click)="$event.stopPropagation()" appendTo="body" class="select-table width-select"
                      [multiple]="true" [closeOnSelect]="false" [(ngModel)]="dieId" (ngModelChange)="pageChanged(1)">
                      <ng-option *ngFor="let i of arrDies" [value]="i.name">{{ i.name }}</ng-option>
                    </ng-select>
                  </mat-menu>
                </div>
                <span class="th-header" [ngStyle]="{'font-size': size + 'px'}">{{ translateSnackBar.dieId }}</span>
              </th>
              <td mat-cell *matCellDef="let element"><span [ngStyle]="{'font-size': size + 'px'}">{{element.dieId}}</span></td>
            </ng-container>

            <ng-container matColumnDef="channels">
              <th mat-header-cell *matHeaderCellDef>
                <div class="filter-th" container="body">
                  <button [matMenuTriggerFor]="menuFilter" type="button" class="btn icon-btn btn-sm hide-arrow"
                    rippleEffect>
                    <span class="badge rounded-circle badge-danger ms-1 m-0" *ngIf="channels != ''">{{channels.length}}</span>
                    <span [data-feather]="'filter'" [class]="'cursor-pointer'"></span>
                  </button>
                  <mat-menu #menuFilter="matMenu">
                    <ng-select [virtualScroll]="true" (click)="$event.stopPropagation()" appendTo="body" class="select-table width-select"
                      [multiple]="true" [closeOnSelect]="false" [(ngModel)]="channels" (ngModelChange)="pageChanged(1)">
                      <ng-option *ngFor="let i of arrChannels" [value]="i.name">{{ i.name }}</ng-option>
                    </ng-select>
                  </mat-menu>
                </div>
                <span class="th-header" [ngStyle]="{'font-size': size + 'px'}">{{ translateSnackBar.channels }}</span>
              </th>
              <td mat-cell *matCellDef="let element"><span [ngStyle]="{'font-size': size + 'px'}">{{element.channels}}</span></td>
            </ng-container>

            <ng-container matColumnDef="status">
              <th mat-header-cell *matHeaderCellDef>
                <div class="filter-th" container="body">
                  <button [matMenuTriggerFor]="menuFilter" type="button" class="btn icon-btn btn-sm hide-arrow"
                    rippleEffect>
                    <span class="badge rounded-circle badge-danger ms-1 m-0" *ngIf="substatus != ''">{{substatus.length}}</span>
                    <span [data-feather]="'filter'" [class]="'cursor-pointer'"></span>
                  </button>
                  <mat-menu #menuFilter="matMenu">
                    <ng-select [virtualScroll]="true" (click)="$event.stopPropagation()" appendTo="body" class="select-table width-select"
                      [multiple]="true" [closeOnSelect]="false" [(ngModel)]="substatus"
                      (ngModelChange)="pageChanged(1)">
                      <ng-option *ngFor="let i of arrStatus" [value]="i.id">{{ i.name }}</ng-option>
                    </ng-select>
                  </mat-menu>
                </div>
                <span class="th-header" [ngStyle]="{'font-size': size + 'px'}">{{ translateSnackBar.status }}</span>
              </th>
              <td mat-cell *matCellDef="let element"><span [ngStyle]="{'font-size': size + 'px'}">{{element.status}}</span></td>
            </ng-container>

            <ng-container matColumnDef="currentResource">
              <th mat-header-cell *matHeaderCellDef>
                <div class="filter-th" container="body">
                  <button [matMenuTriggerFor]="menuFilter" type="button" class="btn icon-btn btn-sm hide-arrow"
                    rippleEffect>
                    <span class="badge rounded-circle badge-danger ms-1 m-0" *ngIf="primaryResourceName != ''">{{primaryResourceName.length}}</span>
                    <span [data-feather]="'filter'" [class]="'cursor-pointer'"></span>
                  </button>
                  <mat-menu #menuFilter="matMenu">
                    <ng-select [virtualScroll]="true" (click)="$event.stopPropagation()" appendTo="body" class="select-table width-select"
                      [multiple]="true" [closeOnSelect]="false" [(ngModel)]="primaryResourceName"
                      (ngModelChange)="pageChanged(1)">
                      <ng-option *ngFor="let i of arrResource" [value]="i.name">{{ i.name }}
                      </ng-option>
                    </ng-select>
                  </mat-menu>
                </div>
                <span class="th-header" [ngStyle]="{'font-size': size + 'px'}">{{ translateSnackBar.currentResource }}</span>
              </th>
              <td mat-cell *matCellDef="let element"><span [ngStyle]="{'font-size': size + 'px'}">{{element.currentResource}}</span></td>
            </ng-container>

            <ng-container matColumnDef="totalKgProduced">
              <th mat-header-cell *matHeaderCellDef>
                <div class="filter-th" container="body"></div>
                <span class="th-header" [ngStyle]="{'font-size': size + 'px'}">{{ translateSnackBar.totalWeight }}</span>
              </th>
              <td mat-cell *matCellDef="let element"><span [ngStyle]="{'font-size': size + 'px'}">{{element.totalKgProduced}}</span></td>
            </ng-container>

            <ng-container matColumnDef="countUsages">
              <th mat-header-cell *matHeaderCellDef>
                <div class="filter-th" container="body"></div>
                <span class="th-header" [ngStyle]="{'font-size': size + 'px'}">{{ translateSnackBar.totalUseWeight }}</span>
              </th>
              <td mat-cell *matCellDef="let element"><span [ngStyle]="{'font-size': size + 'px'}">{{element.countUsages}}</span></td>
            </ng-container>

            <ng-container matColumnDef="lastAnodizingDate">
              <th mat-header-cell *matHeaderCellDef>
                <div class="filter-th" container="body"></div>
                <span class="th-header" [ngStyle]="{'font-size': size + 'px'}">{{ translateSnackBar.finalNitriding }}</span>
              </th>
              <td mat-cell *matCellDef="let element"><span [ngStyle]="{'font-size': size + 'px'}">{{element.lastAnodizingDate | date:'dd/MM/yyyy H:mm'}}</span></td>
            </ng-container>

            <ng-container matColumnDef="kGtoNextAnodizing">
              <th mat-header-cell *matHeaderCellDef>
                <div class="filter-th" container="body"></div>
                <span class="th-header" [ngStyle]="{'font-size': size + 'px'}">{{ translateSnackBar.kgToFianlNitriding }}</span>
              </th>
              <td mat-cell *matCellDef="let element"><span [ngStyle]="{'font-size': size + 'px'}">{{element.kGtoNextAnodizing}}</span></td>
            </ng-container>

            <ng-container matColumnDef="kgAfterLastAnodizing">
              <th mat-header-cell *matHeaderCellDef>
                <div class="filter-th" container="body"></div>
                <span class="th-header" [ngStyle]="{'font-size': size + 'px'}">{{ translateSnackBar.kgAfterFianlNitriding }}</span>
              </th>
              <td mat-cell *matCellDef="let element"><span [ngStyle]="{'font-size': size + 'px'}">{{element.kgAfterLastAnodizing}}</span></td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
          </table>
        </section>


        <pagination-controls id="paginationId" previousLabel="&lsaquo;" nextLabel="&rsaquo;"
          (pageChange)="pageChanged($event)"></pagination-controls>
      </div>
    </section>
  </div>
</div>
<div *ngIf="loading" class="loader-section">
  <div class="spinner-border" role="status">
    <span class="sr-only">Loading...</span>
  </div>
</div>
